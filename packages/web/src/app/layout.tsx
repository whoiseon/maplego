import Providers from "@/components/common/system/Providers";
import type { Metadata } from "next";
import { cookies } from "next/headers";
import { ReactNode } from "react";
import DesktopLayout from "@/components/desktop/layout/DesktopLayout";

export const metadata: Metadata = {
  title: "MSIN",
  description: "Generated by create next app",
};

function GetThemeInCookie() {
  const nextCookies = cookies();
  return nextCookies.get("theme")?.value;
}

export default function RootLayout({ children }: { children: ReactNode }) {
  const currentTheme = GetThemeInCookie();

  return (
    <html
      lang="ko"
      className={currentTheme}
      style={{
        colorScheme: currentTheme,
      }}
    >
      <body className="bg-bg_page1 ease-in transition-all duration-100 font-pretendard">
        <Providers>
          <DesktopLayout theme={currentTheme}>{children}</DesktopLayout>
        </Providers>
      </body>
    </html>
  );
}
